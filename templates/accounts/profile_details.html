{% extends 'district/base.html' %}
{% load static %}

{% block content %}
<div class="cat-detail-container">

  <!-- Profile Card -->
  <div class="cat-detail-card profile-card">
    <h1>Profile Details</h1>

    <div class="profile-photo">
      {% if profile.profile_photo %}
        <img src="{{ profile.profile_photo.url }}" alt="{{ profile.user.username }}">
      {% else %}
        <p>No profile photo available.</p>
      {% endif %}
    </div>

    <div class="profile-info">
      <p><strong>Username:</strong> {{ profile.user.username }}</p>
      <p><strong>Email:</strong> {{ profile.user.email }}</p>
      <p><strong>Main District:</strong> {{ profile.user.main_district.name }}</p>
      <p><strong>Karma Points:</strong> {{ profile.karma_points }}</p>
    </div>

    <div class="account-actions">
      <a href="{% url 'profile-edit' profile.pk %}" class="btn btn-primary">Edit Profile</a>
      <a href="{% url 'profile-delete' profile.pk %}" class="btn btn-delete">Delete Profile</a>
      <a href="#"
         class="btn btn-primary"
         {% if profile.karma_points < 100 %}
         onclick="return false"
         style="opacity: 0.5;"
         title="You need at least 100 karma points to adopt a cat."
         {% endif %}>
         Adopt Cat
      </a>
    </div>
  </div>
</div>

  <div class="cats-interacted-section">
  <h2>Cats Interacted</h2>
  {% if cats_interacted %}
  <div class="tiles">
    {% for cat in cats_interacted %}
      <a href="{% url 'cat_detail' cat.pk %}" class="cat-tile">
        {% if cat.photo %}
          <img src="{{ cat.photo.url }}" alt="{{ cat.name }}">
        {% else %}
          <img src="{% static 'images/Tom_Cat_Reading_a_Newspaper.jpg' %}" alt="{{ cat.name }}">
        {% endif %}
      </a>
    {% endfor %}
  </div>
  {% else %}
    <p>Looks like you haven't met any cats yet!</p>
  {% endif %}
</div>

{% endblock %}